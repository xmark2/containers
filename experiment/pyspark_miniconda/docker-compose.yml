services:

  pyspark_miniconda_app:
    build: .
    command: /bin/bash -c "/opt/conda/bin/conda install jupyter -y --quiet && mkdir /opt/notebooks && /opt/conda/bin/jupyter notebook --notebook-dir=/myproject --ip='*' --port=8888 --no-browser --allow-root"
      #    build: .
    container_name: miniconda_spark
    stdin_open: true # docker run -i
    tty: true        # docker run -t
    ports:
      - 4040:4040
      - 8888:8888
    volumes:
      - ./myproject:/myproject